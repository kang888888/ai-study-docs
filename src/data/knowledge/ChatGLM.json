{
  "title": "ChatGLM (æ™ºè°±AI)",
  "subtitle": "æ™ºè°±AIå¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“– æ ¸å¿ƒæ¦‚å¿µ",
      "content": [
        {
          "type": "desc-box",
          "content": [
            "æ™ºè°±AIå¼€æºçš„ä¸­è‹±åŒè¯­å¯¹è¯æ¨¡å‹ï¼ŒåŸºäºGLMï¼ˆGeneral Language Modelï¼‰æ¶æ„ã€‚é‡‡ç”¨æ··åˆæ³¨æ„åŠ›æœºåˆ¶ï¼Œåœ¨ä¸­æ–‡ç†è§£å’Œç”Ÿæˆä¸Šè¡¨ç°ä¼˜å¼‚ã€‚"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ æ ¸å¿ƒç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "ä¸­æ–‡ä¼˜åŒ–ï¼šåœ¨å¤§è§„æ¨¡ä¸­æ–‡è¯­æ–™ä¸Šè®­ç»ƒï¼Œä¸­æ–‡èƒ½åŠ›çªå‡º",
            "GLMæ¶æ„ï¼šæ··åˆè‡ªå›å½’å’Œè‡ªç¼–ç çš„é¢„è®­ç»ƒç›®æ ‡",
            "å·¥å…·è°ƒç”¨ï¼šChatGLM3æ”¯æŒFunction Calling",
            "å¤šæ¨¡æ€ï¼šGLM-4æ”¯æŒå›¾åƒç†è§£",
            "å¼€æºå¯å•†ç”¨ï¼š6Bå‚æ•°ï¼Œå¯åœ¨æ¶ˆè´¹çº§GPUä¸Šè¿è¡Œ"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å…³é”®æŠ€æœ¯",
      "content": [
        {
          "type": "tech-box",
          "content": "GLMæ¶æ„ã€åŒå‘æ³¨æ„åŠ›ã€æ—‹è½¬ä½ç½®ç¼–ç ã€Flash Attention"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸš€ åº”ç”¨åœºæ™¯",
      "content": [
        {
          "type": "app-box",
          "content": "ä¸­æ–‡å¯¹è¯ã€çŸ¥è¯†é—®ç­”ã€ä»£ç ç”Ÿæˆã€å·¥å…·è°ƒç”¨ã€å¤šæ¨¡æ€ç†è§£"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“Š æ¶æ„å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "ChatGLMæ•´ä½“æ¶æ„å›¾",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "ChatGLMæ•´ä½“æ¶æ„å›¾"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "ChatGLMå…³é”®ç»„ä»¶è¯¦è§£ï¼ˆGLMæ¶æ„ã€åŒå‘æ³¨æ„åŠ›ï¼‰",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "ChatGLMå…³é”®ç»„ä»¶è¯¦è§£ï¼ˆGLMæ¶æ„ã€åŒå‘æ³¨æ„åŠ›ï¼‰"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "ChatGLMä¸å…¶ä»–æ¨¡å‹å¯¹æ¯”",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "ChatGLMä¸å…¶ä»–æ¨¡å‹å¯¹æ¯”"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦åŸç†",
      "content": [
        {
          "type": "math-box",
          "title": "GLM é¢„è®­ç»ƒç›®æ ‡",
          "formulas": [
            {
              "text": "GLM ç»“åˆè‡ªå›å½’å’Œè‡ªç¼–ç ï¼š"
            },
            {
              "display": "L = -\\sum_{i \\in M} \\log P(x_i | x_{\\backslash M}, M)"
            },
            {
              "text": "å…¶ä¸­ $M$ æ˜¯è¢«æ©ç çš„è¿ç»­spanï¼Œæ¨¡å‹éœ€è¦è‡ªå›å½’åœ°é¢„æµ‹è¿™äº›span",
              "inline": "M"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "åŒå‘æ³¨æ„åŠ›",
          "formulas": [
            {
              "text": "ChatGLMä½¿ç”¨åŒå‘æ³¨æ„åŠ›ï¼Œå¯ä»¥åŒæ—¶åˆ©ç”¨å‰åæ–‡ä¿¡æ¯ï¼š"
            },
            {
              "display": "\\text{Attention}(Q, K, V) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)V"
            },
            {
              "text": "ä¸GPTçš„å•å‘æ³¨æ„åŠ›ä¸åŒï¼ŒChatGLMå¯ä»¥åŒå‘ç†è§£ä¸Šä¸‹æ–‡"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» Python ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "ä½¿ç”¨ Transformers åº“åŠ è½½ ChatGLM",
          "language": "python",
          "code": "from transformers import AutoTokenizer, AutoModel\nimport torch\n\n# åŠ è½½æ¨¡å‹å’Œåˆ†è¯å™¨\nmodel_path = \"THUDM/chatglm-6b\"  # éœ€è¦HuggingFaceè®¿é—®æƒé™\ntokenizer = AutoTokenizer.from_pretrained(model_path, trust_remote_code=True)\nmodel = AutoModel.from_pretrained(model_path, trust_remote_code=True).half().cuda()\n\n# å¯¹è¯\nquery = \"ä½ å¥½\"\nresponse, history = model.chat(tokenizer, query, history=[])\nprint(response)\n\n# ç»§ç»­å¯¹è¯\nquery = \"ä»‹ç»ä¸€ä¸‹æ·±åº¦å­¦ä¹ \"\nresponse, history = model.chat(tokenizer, query, history=history)\nprint(response)"
        }
      ]
    }
  ]
}