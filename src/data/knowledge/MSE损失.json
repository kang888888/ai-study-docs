{
  "title": "MSEæŸå¤± (Mean Squared Error)",
  "subtitle": "å›å½’ä»»åŠ¡çš„æ ‡å‡†æŸå¤±å‡½æ•°",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“– æ ¸å¿ƒæ¦‚å¿µ",
      "content": [
        {
          "type": "desc-box",
          "content": [
            "å‡æ–¹è¯¯å·®ï¼ˆMSEï¼ŒMean Squared Errorï¼‰æ˜¯å›å½’ä»»åŠ¡ä¸­æœ€å¸¸ç”¨çš„æŸå¤±å‡½æ•°ã€‚å®ƒè¡¡é‡æ¨¡å‹é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´å·®å¼‚çš„å¹³æ–¹çš„å¹³å‡å€¼ï¼Œå¯¹å¤§è¯¯å·®ç»™äºˆæ›´å¤§çš„æƒ©ç½šã€‚"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ æ ¸å¿ƒç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "å›å½’ä»»åŠ¡æ ‡å‡†ï¼šå›å½’ä»»åŠ¡çš„æ ‡å‡†æŸå¤±å‡½æ•°",
            "å¹³æ–¹è¯¯å·®ï¼šå¯¹å¤§è¯¯å·®æƒ©ç½šæ›´é‡",
            "å¯å¯¼æ€§ï¼šå¤„å¤„å¯å¯¼ï¼Œæ¢¯åº¦è®¡ç®—ç®€å•",
            "å¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼šå¹³æ–¹é¡¹æ”¾å¤§å¼‚å¸¸å€¼å½±å“",
            "è®¡ç®—ç®€å•ï¼šå®ç°ç®€å•ï¼Œè®¡ç®—æ•ˆç‡é«˜"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦è¡¨è¾¾",
      "content": [
        {
          "type": "math-box",
          "title": "MSEæŸå¤±å®šä¹‰",
          "formulas": [
            {
              "text": "MSEæŸå¤±å®šä¹‰ä¸ºï¼š"
            },
            {
              "display": "L_{\\text{MSE}} = \\frac{1}{n}\\sum_{i=1}^{n}(y_i - \\hat{y}_i)^2"
            },
            {
              "text": "å…¶ä¸­ï¼š"
            },
            {
              "text": "- $n$ æ˜¯æ ·æœ¬æ•°é‡"
            },
            {
              "text": "- $y_i$ æ˜¯çœŸå®å€¼"
            },
            {
              "text": "- $\\hat{y}_i$ æ˜¯æ¨¡å‹é¢„æµ‹å€¼"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "æ¢¯åº¦",
          "formulas": [
            {
              "text": "MSEæŸå¤±çš„æ¢¯åº¦ï¼š"
            },
            {
              "display": "\\frac{\\partial L}{\\partial \\hat{y}_i} = -\\frac{2}{n}(y_i - \\hat{y}_i)"
            },
            {
              "text": "æ¢¯åº¦ä¸è¯¯å·®æˆæ­£æ¯”ï¼Œè¯¯å·®è¶Šå¤§ï¼Œæ¢¯åº¦è¶Šå¤§"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "RMSE (å‡æ–¹æ ¹è¯¯å·®)",
          "formulas": [
            {
              "text": "RMSEæ˜¯MSEçš„å¹³æ–¹æ ¹ï¼š"
            },
            {
              "display": "\\text{RMSE} = \\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}(y_i - \\hat{y}_i)^2} = \\sqrt{L_{\\text{MSE}}}"
            },
            {
              "text": "RMSEä¸ç›®æ ‡å€¼å…·æœ‰ç›¸åŒçš„é‡çº²ï¼Œæ›´æ˜“è§£é‡Š"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ ç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "å¯¹å¤§è¯¯å·®æ•æ„Ÿï¼šå¹³æ–¹é¡¹ä½¿å¾—å¤§è¯¯å·®è¢«æ”¾å¤§",
            "å¯å¾®æ€§ï¼šå¤„å¤„å¯å¯¼ï¼Œé€‚åˆæ¢¯åº¦ä¸‹é™",
            "è®¡ç®—ç®€å•ï¼šåªéœ€å¹³æ–¹å’Œå¹³å‡æ“ä½œ",
            "å¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼šå¼‚å¸¸å€¼ä¼šäº§ç”Ÿå¾ˆå¤§çš„æŸå¤±",
            "å›å½’æ ‡å‡†ï¼šå›å½’ä»»åŠ¡çš„æ ‡å‡†æŸå¤±å‡½æ•°"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“Š æŸå¤±å‡½æ•°å›¾åƒ",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "MathFunctionDiagram",
              "caption": "MSEæŸå¤±å‡½æ•°å›¾åƒ",
              "width": 1000,
              "height": 600,
              "interactive": true,
              "props": {
                "type": "loss",
                "title": "MSEæŸå¤±å‡½æ•°å›¾åƒ",
                "function": "mse"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å˜ä½“",
      "content": [
        {
          "type": "tech-box",
          "content": "MAE (Mean Absolute Error): L = (1/n)Î£|y_i - Å·_i|ï¼Œå¯¹å¼‚å¸¸å€¼æ›´é²æ£’\nHuber Loss: ç»“åˆMSEå’ŒMAEçš„ä¼˜ç‚¹ï¼Œå¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿ\nSmooth L1 Loss: åœ¨0é™„è¿‘å¹³æ»‘çš„L1æŸå¤±ï¼Œç”¨äºç›®æ ‡æ£€æµ‹"
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å…³é”®æŠ€æœ¯",
      "content": [
        {
          "type": "tech-box",
          "content": "å‡æ–¹è¯¯å·®ã€å¹³æ–¹æŸå¤±ã€L2æŸå¤±ã€å›å½’ä»»åŠ¡ã€å¼‚å¸¸å€¼å¤„ç†"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸš€ åº”ç”¨åœºæ™¯",
      "content": [
        {
          "type": "app-box",
          "content": "å›å½’ä»»åŠ¡ã€ä»·æ ¼é¢„æµ‹ã€æ•°å€¼é¢„æµ‹ã€æ—¶é—´åºåˆ—é¢„æµ‹ã€éœ€è¦è¿ç»­å€¼è¾“å‡ºçš„åœºæ™¯"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» Python ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "MSEæŸå¤±å®ç°ä¸ä½¿ç”¨",
          "language": "python",
          "code": "import torch\nimport torch.nn as nn\nimport torch.nn.functional as F\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# 1. åŸºç¡€å®ç°\ndef mse_loss(y_true, y_pred):\n    return np.mean((y_true - y_pred)**2)\n\n# æµ‹è¯•\n y_true = np.array([1.0, 2.0, 3.0, 4.0])\ny_pred = np.array([1.1, 1.9, 3.2, 3.8])\nloss = mse_loss(y_true, y_pred)\nprint(f\"MSE Loss: {loss:.4f}\")\n\n# 2. PyTorchå®ç°\ny_true_tensor = torch.tensor([1.0, 2.0, 3.0, 4.0])\ny_pred_tensor = torch.tensor([1.1, 1.9, 3.2, 3.8])\nloss_torch = F.mse_loss(y_pred_tensor, y_true_tensor)\nprint(f\"PyTorch MSE: {loss_torch.item():.4f}\")\n\n# 3. åœ¨å›å½’ç½‘ç»œä¸­ä½¿ç”¨\nclass RegressionNet(nn.Module):\n    def __init__(self, input_size):\n        super(RegressionNet, self).__init__()\n        self.fc1 = nn.Linear(input_size, 64)\n        self.relu = nn.ReLU()\n        self.fc2 = nn.Linear(64, 1)  # å›å½’è¾“å‡ºå•ä¸ªå€¼\n        self.criterion = nn.MSELoss()\n    \n    def forward(self, x):\n        x = self.fc1(x)\n        x = self.relu(x)\n        x = self.fc2(x)\n        return x\n    \n    def compute_loss(self, predictions, targets):\n        return self.criterion(predictions, targets)\n\n# 4. å¯¹æ¯”MSEå’ŒMAE\n# MSEå¯¹å¤§è¯¯å·®æ›´æ•æ„Ÿ\nerrors = np.linspace(0, 5, 100)\nmse = errors**2\nmae = np.abs(errors)\n\nplt.figure(figsize=(10, 6))\nplt.plot(errors, mse, linewidth=2, label='MSE (å¹³æ–¹)')\nplt.plot(errors, mae, linewidth=2, label='MAE (ç»å¯¹å€¼)', linestyle='--')\nplt.xlabel('Error')\nplt.ylabel('Loss')\nplt.title('MSE vs MAE')\nplt.grid(True, alpha=0.3)\nplt.legend()\nplt.savefig('mse_vs_mae.png')\n\n# 5. Huber Lossï¼ˆå¯¹å¼‚å¸¸å€¼æ›´é²æ£’ï¼‰\ndef huber_loss(y_true, y_pred, delta=1.0):\n    error = y_true - y_pred\n    is_small = np.abs(error) <= delta\n    squared_loss = 0.5 * error**2\n    linear_loss = delta * np.abs(error) - 0.5 * delta**2\n    return np.where(is_small, squared_loss, linear_loss).mean()\n\n# 6. å®é™…è®­ç»ƒç¤ºä¾‹\nmodel = RegressionNet(input_size=10)\noptimizer = torch.optim.Adam(model.parameters(), lr=0.001)\n\n# æ¨¡æ‹Ÿè®­ç»ƒæ•°æ®\nfor epoch in range(10):\n    x = torch.randn(32, 10)\n    # æ¨¡æ‹ŸçœŸå®å€¼ï¼ˆç®€å•çš„çº¿æ€§å…³ç³»ï¼‰\n    y_true = x.sum(dim=1, keepdim=True) + torch.randn(32, 1) * 0.1\n    \n    # å‰å‘ä¼ æ’­\n    y_pred = model(x)\n    loss = model.compute_loss(y_pred, y_true)\n    \n    # åå‘ä¼ æ’­\n    optimizer.zero_grad()\n    loss.backward()\n    optimizer.step()\n    \n    print(f\"Epoch {epoch+1}, MSE Loss: {loss.item():.4f}\")\n\n# 7. è®¡ç®—RMSE\npredictions = torch.tensor([1.1, 1.9, 3.2, 3.8])\ntargets = torch.tensor([1.0, 2.0, 3.0, 4.0])\nmse = F.mse_loss(predictions, targets)\nrmse = torch.sqrt(mse)\nprint(f\"MSE: {mse.item():.4f}\")\nprint(f\"RMSE: {rmse.item():.4f}\")\n\n# 8. å¸¦æƒé‡çš„MSEï¼ˆå¯¹ä¸åŒæ ·æœ¬ç»™äºˆä¸åŒæƒé‡ï¼‰\nweights = torch.tensor([1.0, 2.0, 1.0, 0.5])  # æ ·æœ¬æƒé‡\nweighted_mse = (weights * (predictions - targets)**2).mean()\nprint(f\"Weighted MSE: {weighted_mse.item():.4f}\")"
        }
      ]
    }
  ]
}