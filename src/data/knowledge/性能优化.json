{
  "title": "æ€§èƒ½ä¼˜åŒ–",
  "subtitle": "Minimindé¡¹ç›®ä¸­çš„è®­ç»ƒåŠ é€Ÿã€å†…å­˜ä¼˜åŒ–ã€æ”¶æ•›ç­–ç•¥ç­‰æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“– æ ¸å¿ƒæ¦‚å¿µ",
      "content": [
        {
          "type": "desc-box",
          "content": [
            "æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡æ¨¡å‹è®­ç»ƒå’Œæ¨ç†æ€§èƒ½çš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬è®¡ç®—ä¼˜åŒ–ã€å†…å­˜ä¼˜åŒ–ã€é€šä¿¡ä¼˜åŒ–ç­‰ã€‚"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ æ ¸å¿ƒç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "è®¡ç®—ä¼˜åŒ–ï¼šä¼˜åŒ–è®¡ç®—æ•ˆç‡",
            "å†…å­˜ä¼˜åŒ–ï¼šä¼˜åŒ–å†…å­˜ä½¿ç”¨",
            "é€šä¿¡ä¼˜åŒ–ï¼šä¼˜åŒ–é€šä¿¡æ•ˆç‡",
            "æ•´ä½“æå‡ï¼šæ•´ä½“æ€§èƒ½æå‡",
            "æŒç»­ä¼˜åŒ–ï¼šæŒç»­ä¼˜åŒ–æ€§èƒ½"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å…³é”®æŠ€æœ¯",
      "content": [
        {
          "type": "tech-box",
          "content": "è®¡ç®—ä¼˜åŒ–ã€å†…å­˜ä¼˜åŒ–ã€é€šä¿¡ä¼˜åŒ–ã€ç³»ç»Ÿä¼˜åŒ–"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸš€ åº”ç”¨åœºæ™¯",
      "content": [
        {
          "type": "app-box",
          "content": "è®­ç»ƒä¼˜åŒ–ã€æ¨ç†ä¼˜åŒ–ã€ç³»ç»Ÿä¼˜åŒ–ã€æ€§èƒ½æå‡"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“Š æ¶æ„å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "æ€§èƒ½ä¼˜åŒ–ç­–ç•¥",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "comparison",
                "title": "æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "å†…å­˜ä¼˜åŒ–æ–¹æ³•",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "å†…å­˜ä¼˜åŒ–æ–¹æ³•"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "æ··åˆç²¾åº¦è®­ç»ƒ",
          "language": "python",
          "code": "from torch.cuda.amp import autocast, GradScaler\n\ndef train_with_amp(model, dataloader, optimizer):\n    \"\"\"ä½¿ç”¨æ··åˆç²¾åº¦è®­ç»ƒåŠ é€Ÿ\"\"\"\n    scaler = GradScaler()\n    \n    for batch in dataloader:\n        optimizer.zero_grad()\n        \n        # å‰å‘ä¼ æ’­ä½¿ç”¨FP16\n        with autocast():\n            outputs = model(batch['input_ids'])\n            loss = compute_loss(outputs, batch['labels'])\n        \n        # åå‘ä¼ æ’­å’Œæ¢¯åº¦ç¼©æ”¾\n        scaler.scale(loss).backward()\n        scaler.step(optimizer)\n        scaler.update()"
        },
        {
          "type": "code-box",
          "title": "æ¢¯åº¦æ£€æŸ¥ç‚¹",
          "language": "python",
          "code": "from torch.utils.checkpoint import checkpoint\n\ndef apply_gradient_checkpointing(model):\n    \"\"\"åº”ç”¨æ¢¯åº¦æ£€æŸ¥ç‚¹èŠ‚çœå†…å­˜\"\"\"\n    def checkpoint_wrapper(module):\n        def forward(*args, **kwargs):\n            return checkpoint(module, *args, **kwargs)\n        return forward\n    \n    # å¯¹Transformerå—åº”ç”¨æ£€æŸ¥ç‚¹\n    for block in model.transformer.blocks:\n        block.forward = checkpoint_wrapper(block)\n    \n    return model\n\n# ä½¿ç”¨ç¤ºä¾‹\nmodel = GPT(config)\nmodel = apply_gradient_checkpointing(model)  # èŠ‚çœçº¦50%å†…å­˜"
        }
      ]
    }
  ]
}