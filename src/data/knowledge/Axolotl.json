{
  "title": "Axolotlï¼šæ¨¡å—åŒ–å¤§æ¨¡å‹å¾®è°ƒæµæ°´çº¿",
  "subtitle": "é€šè¿‡ YAML é…ç½®é©±åŠ¨çš„æ•°æ®å¤„ç†ã€LoRA/QLoRA/å…¨å‚æ•°è®­ç»ƒã€åˆ†å¸ƒå¼è°ƒåº¦ä¸æ—¥å¿—ç›‘æ§ï¼Œå®ç°â€œä¸€å¥—é…ç½®è·‘éæ‰€æœ‰æ¨¡å‹â€ã€‚",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“– æ ¸å¿ƒæ¦‚å¿µ",
      "content": [
        {
          "type": "desc-box",
          "content": [
            "Axolotlæ˜¯ç”¨äºå¾®è°ƒå¤§è¯­è¨€æ¨¡å‹çš„è®­ç»ƒæ¡†æ¶ï¼Œæ”¯æŒå¤šç§å¾®è°ƒæ–¹æ³•ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„é…ç½®å’Œè®­ç»ƒæµç¨‹ã€‚"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ æ ¸å¿ƒç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "æ˜“äºä½¿ç”¨ï¼šç®€å•é…ç½®å³å¯è®­ç»ƒ",
            "æ–¹æ³•æ”¯æŒï¼šæ”¯æŒå¤šç§å¾®è°ƒæ–¹æ³•",
            "åŠŸèƒ½å®Œæ•´ï¼šæ•°æ®åŠ è½½ã€è®­ç»ƒã€è¯„ä¼°",
            "ç¤¾åŒºæ´»è·ƒï¼šæŒç»­æ›´æ–°å’Œç»´æŠ¤",
            "æ–‡æ¡£å®Œå–„ï¼šè¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å…³é”®æŠ€æœ¯",
      "content": [
        {
          "type": "tech-box",
          "content": "è®­ç»ƒæ¡†æ¶ã€æ•°æ®åŠ è½½ã€è®­ç»ƒå¾ªç¯ã€è¯„ä¼°ã€é…ç½®ç®¡ç†"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸš€ åº”ç”¨åœºæ™¯",
      "content": [
        {
          "type": "app-box",
          "content": "å¾®è°ƒæ¡†æ¶ã€è®­ç»ƒå·¥å…·ã€æ¨¡å‹å¼€å‘ã€å¿«é€Ÿè®­ç»ƒ"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“Š å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "å·¥ä½œæµ",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "flow",
                "title": "å·¥ä½œæµ"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "é…ç½®ç»“æ„",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "é…ç½®ç»“æ„"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "åˆ†å¸ƒå¼æ‹“æ‰‘",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "åˆ†å¸ƒå¼æ‹“æ‰‘"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦/èµ„æºä¼°ç®—",
      "content": [
        {
          "type": "math-box",
          "title": "æ˜¾å­˜é¢„ç®—",
          "formulas": [
            {
              "text": "Axolotl çš„å†…ç½®ä¼°ç®—å™¨æŒ‰å¦‚ä¸‹è¿‘ä¼¼ï¼š"
            },
            {
              "display": "\\text{VRAM} \\approx \\frac{n_{\\text{params}} \\times bytes_{\\text{precision}}}{\\text{tensor_parallel}} + \\text{optimizer\noverhead} + \\text{activation\noverhead}"
            },
            {
              "text": "ç»“åˆ ZeRO-3 å¯å°†ä¼˜åŒ–å™¨çŠ¶æ€æŒ‰èŠ‚ç‚¹å¹³å‡ï¼Œæ˜¾è‘—é™ä½å³°å€¼æ˜¾å­˜ã€‚"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "ååä¸æ¢¯åº¦åŒæ­¥",
          "formulas": [
            {
              "text": "ä½¿ç”¨ FSDP/ZeRO æ—¶çš„é€šä¿¡å¼€é”€ï¼š"
            },
            {
              "display": "T = T_{\\text{compute}} + \\frac{P-1}{P} \\cdot T_{\\text{allreduce}}"
            },
            {
              "text": "Axolotl é€šè¿‡æ¢¯åº¦ç´¯ç§¯ä¸ overlap reduce ä¼˜åŒ–ä¸Šè¿°é¡¹ã€‚"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "æœ€å°åŒ– YAML é…ç½®",
          "language": "yaml",
          "code": "base_model: meta-llama/Llama-3-8b-Instruct\nload_in_4bit: true\nadapter: lora\nlora_r: 64\nlora_alpha: 128\ndataset_mixer:\n  - ./data/sharegpt.json: 1.0\nval_set_size: 0.01\nsequence_len: 4096\nmicro_batch_size: 2\ngradient_accumulation_steps: 8\nlearning_rate: 2e-4\nepochs: 3\ndevice_map: auto"
        }
      ]
    }
  ]
}