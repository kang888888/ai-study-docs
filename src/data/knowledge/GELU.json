{
  "title": "GELU (Gaussian Error Linear Unit)",
  "subtitle": "Transformerä¸­å¸¸ç”¨çš„å¹³æ»‘æ¿€æ´»å‡½æ•°",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“– æ ¸å¿ƒæ¦‚å¿µ",
      "content": [
        {
          "type": "desc-box",
          "content": [
            "GELUï¼ˆGaussian Error Linear Unitï¼‰æ˜¯Transformeræ¶æ„ä¸­å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ã€‚å®ƒç»“åˆäº†ReLUçš„çº¿æ€§ç‰¹æ€§å’ŒSigmoidçš„å¹³æ»‘ç‰¹æ€§ï¼Œåœ¨è´Ÿå€¼åŒºåŸŸä¹Ÿæœ‰éé›¶è¾“å‡ºï¼Œæœ‰åŠ©äºæ¢¯åº¦ä¼ æ’­ã€‚"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ æ ¸å¿ƒç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "å¹³æ»‘éçº¿æ€§ï¼šç»“åˆReLUå’ŒSigmoidçš„ä¼˜ç‚¹",
            "è‡ªé€‚åº”é—¨æ§ï¼šæ ¹æ®è¾“å…¥å€¼è‡ªé€‚åº”è°ƒæ•´æ¿€æ´»",
            "é›¶ä¸­å¿ƒåŒ–ï¼šè¾“å‡ºå‡å€¼æ¥è¿‘0",
            "Transformeræ ‡å‡†ï¼šBERTã€GPTç­‰æ¨¡å‹å¹¿æ³›ä½¿ç”¨",
            "è®¡ç®—å¼€é”€ï¼šæ¶‰åŠè¯¯å·®å‡½æ•°ï¼Œè®¡ç®—ç›¸å¯¹è¾ƒæ…¢"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦è¡¨è¾¾",
      "content": [
        {
          "type": "math-box",
          "title": "GELUå‡½æ•°å®šä¹‰",
          "formulas": [
            {
              "text": "GELUå‡½æ•°å®šä¹‰ä¸ºï¼š"
            },
            {
              "display": "\\text{GELU}(x) = x \\cdot \\Phi(x)"
            },
            {
              "text": "å…¶ä¸­ $\\Phi(x)$ æ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼š"
            },
            {
              "display": "\\Phi(x) = \\frac{1}{2}\\left[1 + \\text{erf}\\left(\\frac{x}{\\sqrt{2}}\\right)\\right]"
            },
            {
              "text": "å¸¸ç”¨è¿‘ä¼¼ï¼ˆè®¡ç®—æ›´å¿«ï¼‰ï¼š"
            },
            {
              "display": "\\text{GELU}(x) \\approx 0.5x\\left(1 + \\tanh\\left[\\sqrt{\\frac{2}{\\pi}}\\left(x + 0.044715x^3\\right)\\right]\\right)"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "å¯¼æ•°",
          "formulas": [
            {
              "text": "GELUçš„å¯¼æ•°ï¼š"
            },
            {
              "display": "\\frac{d}{dx}\\text{GELU}(x) = \\Phi(x) + x \\cdot \\phi(x)"
            },
            {
              "text": "å…¶ä¸­ $\\phi(x) = \\frac{1}{\\sqrt{2\\pi}}e^{-x^2/2}$ æ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸŒŸ ç‰¹ç‚¹",
      "content": [
        {
          "type": "features",
          "items": [
            "å¹³æ»‘æ€§ï¼šå¤„å¤„å¯å¯¼ï¼Œæ¢¯åº¦è¿ç»­",
            "éé›¶è´Ÿå€¼ï¼šè´Ÿå€¼åŒºåŸŸä¹Ÿæœ‰è¾“å‡ºï¼Œæœ‰åŠ©äºæ¢¯åº¦ä¼ æ’­",
            "è‡ªæ­£åˆ™åŒ–ï¼šç»“åˆäº†ReLUå’ŒSigmoidçš„ä¼˜ç‚¹",
            "è®¡ç®—å¼€é”€ï¼šè¿‘ä¼¼è®¡ç®—ç›¸å¯¹è¾ƒå¿«",
            "Transformeræ ‡å‡†ï¼šBERTã€GPTç­‰æ¨¡å‹çš„æ ‡å‡†æ¿€æ´»å‡½æ•°"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“Š å‡½æ•°å›¾åƒ",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "MathFunctionDiagram",
              "caption": "GELUå‡½æ•°å›¾åƒ",
              "width": 1000,
              "height": 600,
              "interactive": true,
              "props": {
                "type": "activation",
                "title": "GELUå‡½æ•°å›¾åƒ",
                "function": "gelu"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "âš™ï¸ å…³é”®æŠ€æœ¯",
      "content": [
        {
          "type": "tech-box",
          "content": "é«˜æ–¯è¯¯å·®çº¿æ€§å•å…ƒã€è‡ªé€‚åº”é—¨æ§ã€è¯¯å·®å‡½æ•°ã€å¹³æ»‘æ¿€æ´»ã€Transformeræ¿€æ´»"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸš€ åº”ç”¨åœºæ™¯",
      "content": [
        {
          "type": "app-box",
          "content": "Transformerçš„FFNå±‚ã€BERTã€GPTç³»åˆ—æ¨¡å‹ã€éœ€è¦å¹³æ»‘æ¿€æ´»çš„åœºæ™¯"
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» Python ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "GELUå®ç°ä¸ä½¿ç”¨",
          "language": "python",
          "code": "import torch\nimport torch.nn as nn\nimport torch.nn.functional as F\nimport numpy as np\nfrom scipy.special import erf\n\n# 1. ç²¾ç¡®å®ç°ï¼ˆä½¿ç”¨erfï¼‰\ndef gelu_exact(x):\n    return 0.5 * x * (1 + erf(x / np.sqrt(2)))\n\n# 2. è¿‘ä¼¼å®ç°ï¼ˆPyTorché»˜è®¤ï¼‰\ndef gelu_approx(x):\n    return 0.5 * x * (1 + np.tanh(np.sqrt(2/np.pi) * (x + 0.044715 * x**3)))\n\n# 3. PyTorchå®ç°\nx = torch.tensor([-2.0, -1.0, 0.0, 1.0, 2.0])\ngelu_output = F.gelu(x)\nprint(f\"GELUè¾“å‡º: {gelu_output}\")\n\n# 4. åœ¨Transformerä¸­ä½¿ç”¨\nclass TransformerFFN(nn.Module):\n    def __init__(self, d_model, d_ff):\n        super(TransformerFFN, self).__init__()\n        self.linear1 = nn.Linear(d_model, d_ff)\n        self.gelu = nn.GELU()  # GELUæ¿€æ´»\n        self.linear2 = nn.Linear(d_ff, d_model)\n    \n    def forward(self, x):\n        x = self.linear1(x)\n        x = self.gelu(x)  # åº”ç”¨GELU\n        x = self.linear2(x)\n        return x"
        }
      ]
    }
  ]
}