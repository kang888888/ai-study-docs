{
  "title": "TensorRT-LLMï¼šGPU æ¨ç†æè‡´ä¼˜åŒ–",
  "subtitle": "åŸºäº TensorRT çš„æ·±åº¦å›¾ä¼˜åŒ–ã€ç®—å­èåˆä¸å¹¶è¡Œè°ƒåº¦ï¼Œé…åˆ KV Cache/é‡åŒ–å®ç°ä¼ä¸šçº§ååã€‚",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“Š å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "æ¶æ„",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "æ¶æ„"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "æ„å»ºæµç¨‹",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "flow",
                "title": "æ„å»ºæµç¨‹"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "æ€§èƒ½æ›²çº¿",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "æ€§èƒ½æ›²çº¿"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦/æ€§èƒ½",
      "content": [
        {
          "type": "math-box",
          "title": "ç®—å­èåˆæ”¶ç›Š",
          "formulas": [
            {
              "display": "T_{fusion} \\approx T_{gemm} + T_{ln} - \\Delta_{mem}"
            },
            {
              "text": "$\\Delta_{mem}$ è¡¨ç¤ºå‡å°‘çš„å†…å­˜è®¿é—®æ—¶é—´ï¼Œæ˜¯ TRT ä¼˜åŠ¿æ‰€åœ¨ã€‚",
              "inline": "\\Delta_{mem}"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "ååä¼°ç®—",
          "formulas": [
            {
              "display": "TPS = \\frac{N_{streams} \\times tokens_{per\\_stream}}{latency_{per\\_graph}}"
            },
            {
              "text": "CUDA Graph å¤ç”¨å¯æ˜¾è‘—é™ä½ $latency_{per\\_graph}$ã€‚",
              "inline": "latency_{per\\_graph}"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» å‘½ä»¤ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "1. æ„å»º Engine",
          "language": "bash",
          "code": "trtllm-build --model-dir ./Llama-3-8B \\\n  --quantization smoothquant --int8 \\\n  --workers 2 --max-input-len 4096 --max-output-len 1024 \\\n  --output-dir ./engine_llama3_int8"
        }
      ]
    }
  ]
}