{
  "title": "GGUFï¼šä¸‹ä¸€ä»£ llama.cpp é‡åŒ–æ¨¡å‹æ ¼å¼",
  "subtitle": "å°†æ¨¡å‹æƒé‡ã€è¯è¡¨ã€è¶…å‚æ•°ã€é‡åŒ–å…ƒæ•°æ®æ‰“åŒ…åˆ°ç»Ÿä¸€æ–‡ä»¶ä¸­ï¼Œæ”¯æŒ Q4/Q5/Q6 å¤šç§æ–¹æ¡ˆï¼Œæ–¹ä¾¿æ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯æ¨ç†ã€‚",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“Š å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "æ–‡ä»¶ç»“æ„",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "æ–‡ä»¶ç»“æ„"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "é‡åŒ–ç²¾åº¦",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "é‡åŒ–ç²¾åº¦"
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "éƒ¨ç½²è·¯çº¿",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "architecture",
                "title": "éƒ¨ç½²è·¯çº¿"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ“ æ•°å­¦ä¸ç¼–ç ",
      "content": [
        {
          "type": "math-box",
          "title": "å—é‡åŒ–",
          "formulas": [
            {
              "text": "GGUF ä½¿ç”¨å›ºå®šå¤§å° blockï¼Œå¦‚ 32/64 å…ƒç´ ï¼š"
            },
            {
              "display": "w_{block} = s \\cdot q + m"
            },
            {
              "text": "å…¶ä¸­ $s$ ä¸ºç¼©æ”¾ï¼Œ$q$ ä¸ºé‡åŒ–æ•´æ•°ï¼Œ$m$ å¯é€‰åç½®ã€‚",
              "inline": "s"
            }
          ]
        },
        {
          "type": "math-box",
          "title": "å†…å­˜æ˜ å°„",
          "formulas": [
            {
              "text": "æ¨ç†æ—¶ç›´æ¥ mmapï¼š"
            },
            {
              "display": "\\text{ptr} = \\text{mmap}(\\text{GGUF}, \\text{PROT\\_READ})"
            },
            {
              "text": "é¿å…æ‹·è´ï¼Œé™ä½å¯åŠ¨æ—¶é—´ã€‚"
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» æ“ä½œç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "è½¬æ¢ & æ¨ç†",
          "language": "bash",
          "code": "# 1. å°† HF æƒé‡è½¬ä¸º GGUF å¹¶é‡åŒ–\npython3 convert.py \\\n  --model llama-2-13b \\\n  --output llama-2-13b.q4_k.gguf \\\n  --quant q4_k\n\n# 2. ä½¿ç”¨ llama.cpp è¿è¡Œ\n./main -m llama-2-13b.q4_k.gguf -p \"ä½ å¥½, è¯·ä»‹ç»é‡åŒ–\""
        }
      ]
    }
  ]
}