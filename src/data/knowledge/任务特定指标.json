{
  "title": "ä»»åŠ¡ç‰¹å®šæŒ‡æ ‡",
  "subtitle": "é—®ç­”ã€ä»£ç ç”Ÿæˆã€RAGã€æ•°å­¦æ¨ç†ç­‰ä»»åŠ¡ç‰¹å®šçš„è¯„ä¼°æŒ‡æ ‡ã€‚",
  "content": [
    {
      "type": "section",
      "title": "ğŸ“Š æ¶æ„å›¾è§£",
      "content": [
        {
          "type": "diagram-gallery",
          "images": [
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "ä»»åŠ¡ç‰¹å®šæŒ‡æ ‡åˆ†ç±»",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "comparison",
                "title": "ä»»åŠ¡ç‰¹å®šæŒ‡æ ‡åˆ†ç±»",
                "data": null
              }
            },
            {
              "type": "svg-d3",
              "component": "GenericDiagram",
              "caption": "ä»»åŠ¡æŒ‡æ ‡åº”ç”¨åœºæ™¯",
              "width": 1000,
              "height": 800,
              "interactive": true,
              "props": {
                "type": "flow",
                "title": "ä»»åŠ¡æŒ‡æ ‡åº”ç”¨åœºæ™¯",
                "data": null
              }
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "ğŸ’» ä»£ç ç¤ºä¾‹",
      "content": [
        {
          "type": "code-box",
          "title": "é—®ç­”ä»»åŠ¡æŒ‡æ ‡ï¼ˆEMå’ŒToken F1ï¼‰",
          "language": "python",
          "code": "def exact_match(prediction, ground_truth):\n    \"\"\"ç²¾ç¡®åŒ¹é…ï¼ˆExact Matchï¼‰\"\"\"\n    return prediction.strip().lower() == ground_truth.strip().lower()\n\ndef token_f1(prediction, ground_truth):\n    \"\"\"Tokençº§åˆ«çš„F1åˆ†æ•°\"\"\"\n    pred_tokens = set(prediction.lower().split())\n    truth_tokens = set(ground_truth.lower().split())\n    \n    if len(truth_tokens) == 0:\n        return 1.0 if len(pred_tokens) == 0 else 0.0\n    \n    common = pred_tokens & truth_tokens\n    precision = len(common) / len(pred_tokens) if len(pred_tokens) > 0 else 0\n    recall = len(common) / len(truth_tokens)\n    \n    if precision + recall == 0:\n        return 0.0\n    \n    return 2 * precision * recall / (precision + recall)\n\n# ä½¿ç”¨ç¤ºä¾‹\npred = \"the cat is on the mat\"\nground_truth = \"the cat is on the mat\"\nprint(f\"EM: {exact_match(pred, ground_truth)}\")\nprint(f\"Token F1: {token_f1(pred, ground_truth):.4f}\")"
        },
        {
          "type": "code-box",
          "title": "ä»£ç ç”ŸæˆæŒ‡æ ‡ï¼ˆPass@kï¼‰",
          "language": "python",
          "code": "def pass_at_k(n, c, k):\n    \"\"\"è®¡ç®—Pass@kæŒ‡æ ‡\n    n: æ€»æ ·æœ¬æ•°\n    c: é€šè¿‡çš„æ ·æœ¬æ•°\n    k: æ¯ä¸ªé—®é¢˜ç”Ÿæˆçš„ä»£ç æ•°é‡\n    \"\"\"\n    if n - c < k:\n        return 1.0\n    return 1.0 - (n - c) * (n - c - 1) * ... * (n - c - k + 1) / (n * (n - 1) * ... * (n - k + 1))\n\ndef pass_at_k_simple(n, c, k):\n    \"\"\"ç®€åŒ–ç‰ˆPass@kè®¡ç®—\"\"\"\n    if n - c < k:\n        return 1.0\n    \n    numerator = 1.0\n    denominator = 1.0\n    for i in range(k):\n        numerator *= (n - c - i)\n        denominator *= (n - i)\n    \n    return 1.0 - numerator / denominator\n\n# ä½¿ç”¨ç¤ºä¾‹\n# å‡è®¾100ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªç”Ÿæˆ10ä¸ªä»£ç ï¼Œå…¶ä¸­30ä¸ªé—®é¢˜è‡³å°‘æœ‰ä¸€ä¸ªä»£ç é€šè¿‡\nn, c, k = 100, 30, 10\nprint(f\"Pass@10: {pass_at_k_simple(n, c, k):.4f}\")"
        }
      ]
    }
  ]
}
