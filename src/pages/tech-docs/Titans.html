<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titans ç¥ç»ç½‘ç»œæ¶æ„ - æ¶æ„è¯¦è§£</title>
    <!-- MathJax for mathematical formulas -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Prism.js for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <!-- å…¬å…±æ ·å¼ -->
    <link rel="stylesheet" href="../common/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Titans ç¥ç»ç½‘ç»œæ¶æ„</h1>
            <p>ä»¿ç”Ÿè®°å¿†æ¶æ„ï¼ŒèåˆçŸ­æœŸè®°å¿†ã€é•¿æœŸè®°å¿†å’Œæ³¨æ„åŠ›æœºåˆ¶</p>
        </div>
        <div class="content">
            
            <div class="section">
                <h2>ğŸ“– æ ¸å¿ƒæ¦‚å¿µ</h2>
                <div class="desc-box">
                    <p><strong>Titans</strong> æ˜¯ç”± Google Research åœ¨ 2025 å¹´ 1 æœˆå‘å¸ƒçš„æ–°å‹ç¥ç»ç½‘ç»œæ¶æ„ã€‚è¯¥æ¶æ„é‡‡ç”¨<strong>ä»¿ç”Ÿè®¾è®¡</strong>ï¼Œèåˆäº†çŸ­æœŸè®°å¿†ã€é•¿æœŸè®°å¿†å’Œæ³¨æ„åŠ›æœºåˆ¶ï¼Œèƒ½å¤Ÿå¤„ç†è¶…è¿‡ <strong>200 ä¸‡ä¸ª Token</strong> çš„ä¸Šä¸‹æ–‡é•¿åº¦ã€‚</p>
                </div>
            </div>
            <div class="section features">
                <h2>ğŸŒŸ æ ¸å¿ƒåˆ›æ–°</h2>
                <ul>
                    <li><strong>ç¥ç»é•¿æœŸè®°å¿†æ¨¡å—</strong>ï¼šæ¨¡æ‹Ÿäººç±»è®°å¿†ç³»ç»Ÿï¼Œç»“åˆçŸ­æœŸè®°å¿†çš„å¿«é€Ÿååº”ä¸é•¿æœŸè®°å¿†çš„æŒä¹…ç‰¹æ€§</li>
                    <li><strong>è¶…é•¿ä¸Šä¸‹æ–‡å¤„ç†</strong>ï¼šçªç ´ä¼ ç»Ÿ Transformer çš„ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼Œèƒ½å¤Ÿå¤„ç†è¶…è¿‡ 200 ä¸‡ Token çš„è¶…é•¿åºåˆ—</li>
                    <li><strong>ä¸‰ç§è®¾è®¡å˜ä½“</strong>ï¼šMACï¼ˆMemory as a Contextï¼‰ã€MAGï¼ˆMemory as a Gateï¼‰ã€MALï¼ˆMemory as a Layerï¼‰</li>
                    <li><strong>è¯­ä¹‰è¿è´¯æ€§</strong>ï¼šåœ¨å¤šè½®å¯¹è¯å’Œé•¿æ–‡æœ¬ä»»åŠ¡ä¸­ä¿æŒä¸Šä¸‹æ–‡è¿è´¯</li>
                </ul>
            </div>
            <div class="section">
                <h2>âš™ï¸ ä¸‰ç§æ¶æ„å˜ä½“</h2>
                <div class="tech-box">
                    <p><strong>MACï¼ˆMemory as a Contextï¼‰</strong></p>
                    <p>å°†é•¿æœŸè®°å¿†ä½œä¸ºä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸æ³¨æ„åŠ›æœºåˆ¶åŠ¨æ€ç»“åˆå†å²ä¿¡æ¯ä¸å½“å‰æ•°æ®ã€‚ç®€å•ç›´æ¥ï¼Œæ˜“äºå®ç°ï¼Œé€‚åˆéœ€è¦é¢‘ç¹è®¿é—®å†å²ä¿¡æ¯çš„ä»»åŠ¡ã€‚</p>
                </div>
                <div class="tech-box">
                    <p><strong>MAGï¼ˆMemory as a Gateï¼‰</strong></p>
                    <p>æ ¹æ®ä»»åŠ¡éœ€æ±‚è°ƒæ•´å®æ—¶æ•°æ®ä¸å†å²ä¿¡æ¯çš„é‡è¦æ€§æ¯”ä¾‹ï¼Œä½¿ç”¨é—¨æ§æœºåˆ¶æ§åˆ¶ä¿¡æ¯æµã€‚çµæ´»æ§åˆ¶ä¿¡æ¯èåˆæ¯”ä¾‹ï¼Œé€‚åˆéœ€è¦åŠ¨æ€å¹³è¡¡å½“å‰å’Œå†å²ä¿¡æ¯çš„ä»»åŠ¡ã€‚</p>
                </div>
                <div class="tech-box">
                    <p><strong>MALï¼ˆMemory as a Layerï¼‰</strong></p>
                    <p>å°†è®°å¿†æ¨¡å—è®¾è®¡ä¸ºæ·±åº¦ç½‘ç»œçš„ä¸€å±‚ï¼Œå°†ç”¨æˆ·çš„å†å²è®°å½•å’Œå½“å‰è¾“å…¥çš„ä¸Šä¸‹æ–‡å†…å®¹è¿›è¡Œå›ºå®šå‹ç¼©åäº¤ç”±æ¨¡å‹çš„æ³¨æ„åŠ›æ¨¡å—å¤„ç†ã€‚æ·±åº¦é›†æˆï¼Œç«¯åˆ°ç«¯è®­ç»ƒï¼Œé€‚åˆéœ€è¦æ·±åº¦è®°å¿†èåˆçš„å¤æ‚ä»»åŠ¡ã€‚</p>
                </div>
            </div>
            <div class="section">
                <h2>ğŸš€ åº”ç”¨åœºæ™¯</h2>
                <div class="app-box">
                    <p><strong>é•¿æ–‡æœ¬ç†è§£</strong>ï¼šæ–‡æ¡£åˆ†æã€ä¹¦ç±ç†è§£ã€æ³•å¾‹æ–‡æ¡£ã€æŠ€æœ¯æ–‡æ¡£å¤„ç†ï¼ˆ200ä¸‡+ Token ä¸Šä¸‹æ–‡èƒ½åŠ›ï¼‰</p>
                    <p><strong>å¤šè½®å¯¹è¯</strong>ï¼šæ™ºèƒ½åŠ©æ‰‹ã€å®¢æœç³»ç»Ÿã€éœ€è¦é•¿æœŸè®°å¿†çš„å¯¹è¯ç³»ç»Ÿï¼ˆå†…ç½®é•¿æœŸè®°å¿†ï¼Œæ— éœ€å¤–éƒ¨è®°å¿†æ¨¡å—ï¼‰</p>
                    <p><strong>ä»£ç åˆ†æ</strong>ï¼šå¤§å‹ä»£ç åº“ç†è§£ã€è·¨æ–‡ä»¶çš„ä»£ç ä¾èµ–åˆ†æï¼ˆè¶…é•¿ä¸Šä¸‹æ–‡ï¼Œç†è§£ä»£ç ä¾èµ–å…³ç³»ï¼‰</p>
                    <p><strong>ç§‘å­¦è®¡ç®—</strong>ï¼šåŸºå› ç»„åºåˆ—åˆ†æã€æ—¶é—´åºåˆ—é¢„æµ‹ï¼ˆé•¿æœŸè®°å¿†ï¼Œè¯†åˆ«å†å²æ¨¡å¼ï¼‰</p>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ§  ä»¿ç”Ÿè®°å¿†ç³»ç»Ÿ</h2>
                <div class="tech-box">
                    <p><strong>çŸ­æœŸè®°å¿†ï¼ˆShort-Term Memoryï¼‰</strong></p>
                    <p>å¿«é€Ÿååº”ï¼Œå¯¹å½“å‰è¾“å…¥å¿«é€Ÿå¤„ç†ï¼Œä¿å­˜æœ€è¿‘çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç±»ä¼¼ Transformer çš„æ³¨æ„åŠ›æœºåˆ¶</p>
                </div>
                <div class="tech-box">
                    <p><strong>é•¿æœŸè®°å¿†ï¼ˆLong-Term Memoryï¼‰</strong></p>
                    <p>æŒä¹…å­˜å‚¨ï¼Œä¿å­˜å†å²é‡è¦ä¿¡æ¯ï¼Œå‹ç¼©è¡¨ç¤ºé«˜æ•ˆå­˜å‚¨å¤§é‡å†å²æ•°æ®ï¼Œé€‰æ‹©æ€§æ£€ç´¢æ ¹æ®å½“å‰ä»»åŠ¡æ£€ç´¢ç›¸å…³ä¿¡æ¯</p>
                </div>
                <div class="tech-box">
                    <p><strong>æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttention Mechanismï¼‰</strong></p>
                    <p>åŠ¨æ€èšç„¦ï¼Œä¸“æ³¨äºå½“å‰æœ€ç›¸å…³çš„ä¿¡æ¯ï¼Œä¿¡æ¯èåˆï¼Œç»“åˆçŸ­æœŸå’Œé•¿æœŸè®°å¿†</p>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ”¬ è®°å¿†æ¨¡å—è®¾è®¡</h2>
                <div class="desc-box">
                    <p><strong>1. è®°å¿†ç¼–ç å™¨ï¼ˆMemory Encoderï¼‰</strong>ï¼šå°†å†å²ä¿¡æ¯ç¼–ç ä¸ºå‹ç¼©è¡¨ç¤ºï¼Œæ”¯æŒå¢é‡æ›´æ–°ï¼Œé«˜æ•ˆå­˜å‚¨å¤§é‡å†å²æ•°æ®</p>
                    <p><strong>2. è®°å¿†æ£€ç´¢å™¨ï¼ˆMemory Retrieverï¼‰</strong>ï¼šæ ¹æ®å½“å‰ä¸Šä¸‹æ–‡æ£€ç´¢ç›¸å…³è®°å¿†ï¼Œä½¿ç”¨æ³¨æ„åŠ›æœºåˆ¶è¿›è¡Œæ£€ç´¢ï¼Œé€‰æ‹©æ€§æ£€ç´¢ç›¸å…³ä¿¡æ¯</p>
                    <p><strong>3. è®°å¿†æ›´æ–°å™¨ï¼ˆMemory Updaterï¼‰</strong>ï¼šé€‰æ‹©æ€§æ›´æ–°é•¿æœŸè®°å¿†ï¼Œé—å¿˜ä¸é‡è¦çš„ä¿¡æ¯ï¼Œä¿æŒè®°å¿†çš„æ—¶æ•ˆæ€§å’Œç›¸å…³æ€§</p>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ“Š Titans vs Transformer</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>Transformer</th>
                            <th>Titans</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ä¸Šä¸‹æ–‡é•¿åº¦</strong></td>
                            <td>é€šå¸¸ 2K-32K</td>
                            <td>200ä¸‡+ Token</td>
                        </tr>
                        <tr>
                            <td><strong>è®°å¿†æœºåˆ¶</strong></td>
                            <td>ä»…çŸ­æœŸï¼ˆæ³¨æ„åŠ›ï¼‰</td>
                            <td>çŸ­æœŸ+é•¿æœŸè®°å¿†</td>
                        </tr>
                        <tr>
                            <td><strong>é•¿è·ç¦»ä¾èµ–</strong></td>
                            <td>å—é™</td>
                            <td>å¼º</td>
                        </tr>
                        <tr>
                            <td><strong>å¤šè½®å¯¹è¯</strong></td>
                            <td>éœ€è¦å¤–éƒ¨è®°å¿†</td>
                            <td>å†…ç½®é•¿æœŸè®°å¿†</td>
                        </tr>
                        <tr>
                            <td><strong>è®¡ç®—å¤æ‚åº¦</strong></td>
                            <td>O(LÂ²)</td>
                            <td>ä¼˜åŒ–åé™ä½</td>
                        </tr>
                        <tr>
                            <td><strong>è¯­ä¹‰è¿è´¯æ€§</strong></td>
                            <td>é•¿æ–‡æœ¬ä¸­å—é™</td>
                            <td>å¼ºï¼ˆé•¿æœŸè®°å¿†ï¼‰</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="section">
                <h2>ğŸ’¡ æ€§èƒ½è¡¨ç°</h2>
                <div class="desc-box">
                    <p><strong>è¯­è¨€å»ºæ¨¡</strong>ï¼šè¶…è¶Šä¼ ç»Ÿ Transformerï¼Œåœ¨é•¿åºåˆ—ä»»åŠ¡ä¸­è¡¨ç°å“è¶Š</p>
                    <p><strong>å¸¸è¯†æ¨ç†</strong>ï¼šåˆ©ç”¨é•¿æœŸè®°å¿†è¿›è¡Œå¤æ‚æ¨ç†ï¼Œä¿æŒæ¨ç†çš„è¿è´¯æ€§</p>
                    <p><strong>åŸºå› ç»„åˆ†æ</strong>ï¼šå¤„ç†è¶…é•¿ç”Ÿç‰©åºåˆ—ï¼Œè¯†åˆ«é•¿è·ç¦»ä¾èµ–å…³ç³»</p>
                    <p><strong>æ—¶é—´åºåˆ—é¢„æµ‹</strong>ï¼šåˆ©ç”¨å†å²æ¨¡å¼è¿›è¡Œé¢„æµ‹ï¼Œå¤„ç†é•¿æœŸä¾èµ–</p>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ’» Python ä»£ç ç¤ºä¾‹</h2>
                <div class="code-box">
                    <h3>é•¿æœŸè®°å¿†æ¨¡å—çš„ç®€åŒ–å®ç°</h3>
                    <pre><code class="language-python">import torch
import torch.nn as nn
import torch.nn.functional as F

class LongTermMemory(nn.Module):
    """é•¿æœŸè®°å¿†æ¨¡å—"""
    def __init__(self, d_model, memory_size):
        super(LongTermMemory, self).__init__()
        self.d_model = d_model
        self.memory_size = memory_size
        
        # è®°å¿†ç¼–ç å™¨
        self.memory_encoder = nn.Linear(d_model, d_model)
        
        # è®°å¿†å­˜å‚¨ï¼ˆå¯å­¦ä¹ çš„ï¼‰
        self.memory = nn.Parameter(torch.randn(memory_size, d_model))
        
        # è®°å¿†æ£€ç´¢å™¨ï¼ˆæ³¨æ„åŠ›æœºåˆ¶ï¼‰
        self.query_proj = nn.Linear(d_model, d_model)
        self.key_proj = nn.Linear(d_model, d_model)
        self.value_proj = nn.Linear(d_model, d_model)
        
        # è®°å¿†æ›´æ–°å™¨ï¼ˆé—¨æ§æœºåˆ¶ï¼‰
        self.update_gate = nn.Linear(d_model * 2, d_model)
    
    def encode(self, x):
        """ç¼–ç è¾“å…¥ä¸ºè®°å¿†è¡¨ç¤º"""
        return self.memory_encoder(x)
    
    def retrieve(self, query):
        """æ£€ç´¢ç›¸å…³è®°å¿†"""
        batch_size = query.shape[0]
        
        # è®¡ç®—æŸ¥è¯¢ã€é”®ã€å€¼
        q = self.query_proj(query)  # [batch_size, d_model]
        k = self.key_proj(self.memory)  # [memory_size, d_model]
        v = self.value_proj(self.memory)  # [memory_size, d_model]
        
        # è®¡ç®—æ³¨æ„åŠ›æƒé‡
        scores = torch.matmul(q, k.t()) / (self.d_model ** 0.5)
        attention = F.softmax(scores, dim=-1)  # [batch_size, memory_size]
        
        # åŠ æƒæ±‚å’Œ
        retrieved = torch.matmul(attention, v)  # [batch_size, d_model]
        
        return retrieved, attention
    
    def update(self, new_info, retrieved_memory):
        """æ›´æ–°è®°å¿†"""
        # åˆå¹¶æ–°ä¿¡æ¯å’Œæ£€ç´¢åˆ°çš„è®°å¿†
        combined = torch.cat([new_info, retrieved_memory], dim=-1)
        
        # é—¨æ§æ›´æ–°
        gate = torch.sigmoid(self.update_gate(combined))
        updated = gate * new_info + (1 - gate) * retrieved_memory
        
        return updated

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    memory = LongTermMemory(d_model=512, memory_size=1000)
    query = torch.randn(2, 512)
    new_info = torch.randn(2, 512)
    
    # æ£€ç´¢è®°å¿†
    retrieved, attention = memory.retrieve(query)
    print(f"æ£€ç´¢åˆ°çš„è®°å¿†å½¢çŠ¶: {retrieved.shape}")  # [2, 512]
    
    # æ›´æ–°è®°å¿†
    updated = memory.update(new_info, retrieved)
    print(f"æ›´æ–°åçš„è®°å¿†å½¢çŠ¶: {updated.shape}")  # [2, 512]</code></pre>
                </div>
            </div>
        </div>
    </div>
    <!-- å›¾ç‰‡æ”¾å¤§å¼¹çª— -->
    <div id="imageModal" class="image-modal" onclick="closeImageModal()">
        <span class="image-modal-close" onclick="event.stopPropagation(); closeImageModal()">&times;</span>
        <img id="modalImage" class="image-modal-content" src="" alt="">
        <div id="modalCaption" class="image-modal-caption"></div>
    </div>
    <script>
        function openImageModal(img) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const modalCaption = document.getElementById('modalCaption');
            modal.classList.add('active');
            modalImg.src = img.src;
            modalCaption.textContent = img.alt || '';
            modalImg.onclick = function(e) { e.stopPropagation(); };
        }
        function closeImageModal() {
            document.getElementById('imageModal').classList.remove('active');
        }
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeImageModal();
        });
    </script>
    <!-- å…¬å…±è„šæœ¬ -->
    <script src="../common/tech-document.js"></script>
</body>
</html>

