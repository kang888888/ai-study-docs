<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å‹å¹¶è¡Œè®­ç»ƒ</title>
    <script>
        window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']] }, options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] } };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <!-- å…¬å…±æ ·å¼ -->
    <link rel="stylesheet" href="../common/styles.css">
</head>
<body>
    <div class="container">
        <h1>æ¨¡å‹å¹¶è¡Œè®­ç»ƒï¼ˆModel Parallelismï¼‰</h1>
        <p class="tagline">å°†æ¨¡å‹çš„ä¸åŒéƒ¨åˆ†æ”¾åœ¨ä¸åŒçš„è®¾å¤‡ä¸Šï¼Œçªç ´å•å¡å†…å­˜é™åˆ¶ã€‚</p>

        <div class="meta-grid">
            <div class="meta-card"><h3>æ ¸å¿ƒåŸç†</h3><p>å°†æ¨¡å‹æ‹†åˆ†åˆ°ä¸åŒè®¾å¤‡ï¼Œå‰å‘å’Œåå‘ä¼ æ’­éœ€è¦è·¨è®¾å¤‡é€šä¿¡ã€‚</p></div>
            <div class="meta-card"><h3>å¹¶è¡Œç±»å‹</h3><p>å¼ é‡å¹¶è¡Œã€æµæ°´çº¿å¹¶è¡Œã€‚</p></div>
            <div class="meta-card"><h3>ä¼˜åŠ¿</h3><p>å¯ä»¥è®­ç»ƒè¶…å¤§æ¨¡å‹ã€çªç ´å•å¡å†…å­˜é™åˆ¶ã€‚</p></div>
            <div class="meta-card"><h3>æŒ‘æˆ˜</h3><p>å®ç°å¤æ‚ã€é€šä¿¡å¼€é”€å¤§ã€è´Ÿè½½å‡è¡¡ã€‚</p></div>
        </div>

        <div class="section">
            <h2>âš™ï¸ å¹¶è¡Œç±»å‹</h2>
            
            <h3 style="color:#fbbf24; margin-top:20px;">1. å¼ é‡å¹¶è¡Œï¼ˆTensor Parallelismï¼‰</h3>
            <ul>
                <li><strong>åŸç†</strong>ï¼šæŒ‰ç»´åº¦æ‹†åˆ†çŸ©é˜µè¿ç®—</li>
                <li><strong>ç¤ºä¾‹</strong>ï¼šå°†çŸ©é˜µä¹˜æ³• $A \times B$ æŒ‰åˆ—æ‹†åˆ†åˆ°å¤šä¸ªè®¾å¤‡</li>
                <li><strong>é€šä¿¡</strong>ï¼šæ¯ä¸ªTransformerå±‚éœ€è¦AllReduceæ“ä½œ</li>
            </ul>

            <h3 style="color:#fbbf24; margin-top:20px;">2. æµæ°´çº¿å¹¶è¡Œï¼ˆPipeline Parallelismï¼‰</h3>
            <ul>
                <li><strong>åŸç†</strong>ï¼šæŒ‰å±‚æ‹†åˆ†æ¨¡å‹</li>
                <li><strong>ç¤ºä¾‹</strong>ï¼šå‰Nå±‚åœ¨è®¾å¤‡1ï¼ŒåMå±‚åœ¨è®¾å¤‡2</li>
                <li><strong>é€šä¿¡</strong>ï¼šå±‚é—´ä¼ é€’æ¿€æ´»å€¼å’Œæ¢¯åº¦</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ’» ä»£ç ç¤ºä¾‹</h2>
            <div class="code-box">
                <h3>å¼ é‡å¹¶è¡Œç¤ºä¾‹</h3>
                <pre><code class="language-python"># å°†çº¿æ€§å±‚æŒ‰åˆ—æ‹†åˆ†
class ColumnParallelLinear(nn.Module):
    def __init__(self, in_features, out_features, world_size):
        super().__init__()
        self.world_size = world_size
        self.out_features = out_features // world_size
        self.weight = nn.Parameter(torch.randn(self.out_features, in_features))
    
    def forward(self, x):
        # æ¯ä¸ªè®¾å¤‡è®¡ç®—éƒ¨åˆ†è¾“å‡º
        output = F.linear(x, self.weight)
        # AllReduceåŒæ­¥ç»“æœ
        dist.all_reduce(output, op=dist.ReduceOp.SUM)
        return output</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“Š æ€§èƒ½è€ƒè™‘</h2>
            <ul>
                <li><strong>é€šä¿¡å¼€é”€</strong>ï¼šæ¯ä¸ªTransformerå±‚éœ€è¦é€šä¿¡ï¼Œé€šä¿¡é¢‘ç‡é«˜</li>
                <li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šéœ€è¦åˆç†åˆ†é…æ¨¡å‹éƒ¨åˆ†ï¼Œé¿å…è®¾å¤‡ç­‰å¾…</li>
                <li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¶…å¤§æ¨¡å‹ï¼ˆ> 10Bå‚æ•°ï¼‰</li>
            </ul>
        </div>
    </div>
    <!-- å…¬å…±è„šæœ¬ -->
    <script src="../common/tech-document.js"></script>
</body>
</html>

