<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§æ¨¡å‹æ¨ç†ä¼˜åŒ–çŸ¥è¯†å›¾è°±</title>
    
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    
    <!-- å…¬å…±æ ·å¼ -->
    <link rel="stylesheet" href="../common/styles.css">
    
    <!-- é¡µé¢ç‰¹å®šæ ·å¼ -->
    <style>
        body {
            background: radial-gradient(circle at top, var(--bg-primary) 0%, #030712 60%, #010409 100%);
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- çŸ¥è¯†å›¾è°±å®¹å™¨ -->
        <div id="chart"></div>
        
        <!-- æ ‡é¢˜æ  -->
        <div class="title-bar">
            <h1>å¤§æ¨¡å‹æ¨ç†ä¼˜åŒ–çŸ¥è¯†å›¾è°±</h1>
            <p>ä»æ¨ç†åŸºç¡€åˆ°ç¼“å­˜è°ƒåº¦ï¼Œå†åˆ°æ¨ç†å¼•æ“ã€ç®—å­å†…æ ¸ä¸ç”ŸæˆåŠ é€Ÿï¼Œå…¨é¢æŒæ¡æ¨ç†ä¼˜åŒ–æŠ€æœ¯ã€‚</p>
            <div class="legend">
                <span><i style="background:#a5b4fc"></i>æ¨ç†åŸºç¡€</span>
            <span><i style="background:#f97316"></i>ç¼“å­˜ç­–ç•¥</span>
            <span><i style="background:#38bdf8"></i>æ¨ç†å¼•æ“</span>
            <span><i style="background:#a855f7"></i>ç®—å­å†…æ ¸</span>
            <span><i style="background:#f43f5e"></i>ç”ŸæˆåŠ é€Ÿ</span>
            </div>
        </div>
        
        <!-- æ§åˆ¶æ  -->
        <div class="control-bar">
            <button class="control-btn" onclick="resetView()">é‡æ–°å¸ƒå±€</button>
            <button class="control-btn" onclick="toggleAnimation()">æš‚åœ/ç»§ç»­åŠ¨ç”»</button>
        </div>
        
        <!-- ä¾§è¾¹æ  -->
        <div class="sidebar" id="sidebar">
            <button class="close-btn" onclick="closeSidebar()">Ã—</button>
            <div class="sidebar-header">
                <h2 class="sidebar-title" id="sidebar-title">å¤§æ¨¡å‹æ¨ç†ä¼˜åŒ–çŸ¥è¯†å›¾è°±</h2>
                <div class="sidebar-tag" id="sidebar-tag">æŒ‡å—</div>
            </div>
            <div class="sidebar-body" id="sidebar-content">
                <div class="sidebar-placeholder">
                    <p>ğŸ‘‡ åœ¨å·¦ä¾§å›¾è°±ä¸­é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹å³å¯æŸ¥çœ‹è¯¦æƒ…ã€‚</p>
                    <p>â€¢ ç‚¹å‡»åˆ†ç±»èŠ‚ç‚¹æŸ¥çœ‹æ¦‚è§ˆè¯´æ˜<br>â€¢ ç‚¹å‡»å…·ä½“æŠ€æœ¯èŠ‚ç‚¹ï¼Œä¼šåœ¨æ­¤ä¾§è¾¹æ åŠ è½½å¯¹åº”çš„ HTML è®²è§£é¡µ</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å…¬å…±è„šæœ¬ -->
    <script src="../common/knowledge-graph.js"></script>
    
    <!-- é¡µé¢ç‰¹å®šæ•°æ® -->
    <script>
        // é¡µé¢é…ç½®
        const pageConfig = {
          "containerId": "chart",
          "data": {
                    "name": "æ¨¡å‹æ¨ç†",
                    "value": "KV Cacheã€FlashAttentionã€Speculative Decodingã€‚",
                    "symbolSize": 70,
                    "itemStyle": {
                              "color": "#facc15",
                              "borderColor": "#f8fafc",
                              "borderWidth": 4
                    },
                    "children": [
                              {
                                        "name": "æ¨ç†",
                                        "tag": "Base",
                                        "value": "æ¨ç†æµç¨‹ã€æ€§èƒ½æŒ‡æ ‡ä¸ç³»ç»Ÿè¦ç‚¹ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "æ¨ç†ä¼˜åŒ–",
                                        "tag": "Optimize",
                                        "value": "å›¾/ç®—å­ä¼˜åŒ–ã€é‡åŒ–ã€å‰ªæã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "TensorRT-LLM",
                                        "tag": "Engine",
                                        "value": "NVIDIA TensorRT-LLM éƒ¨ç½²ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "vLLM",
                                        "tag": "Engine",
                                        "value": "è¿ç»­æ‰¹å¤„ç† + PagedAttention æ¡†æ¶ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "KV Cache",
                                        "tag": "Cache",
                                        "value": "æ³¨æ„åŠ›é”®å€¼ç¼“å­˜å¤ç”¨ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "PagedAttention",
                                        "tag": "Cache",
                                        "value": "åˆ†é¡µæ³¨æ„åŠ›,é•¿åº KV ç®¡ç†ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "Speculative Decoding",
                                        "tag": "Speed",
                                        "value": "è‰ç¨¿æ¨¡å‹ + éªŒè¯æ¨¡å‹åŠ é€Ÿã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              },
                              {
                                        "name": "FlashAttention",
                                        "tag": "Kernel",
                                        "value": "IO æ„ŸçŸ¥æ³¨æ„åŠ›ç®—å­ã€‚",
                                        "symbolSize": 46,
                                        "itemStyle": {
                                                  "color": "#facc15",
                                                  "borderColor": "#f8fafc",
                                                  "borderWidth": 2
                                        }
                              }
                    ]
          },
          "techPages": {
                    "æ¨ç†": "../tech-docs/æ¨ç†åŸºç¡€.html",
                    "æ¨ç†ä¼˜åŒ–": "../tech-docs/æ¨ç†ä¼˜åŒ–æŠ€æœ¯è¯¦è§£.html",
                    "TensorRT-LLM": "../tech-docs/TensorRT-LLM.html",
                    "vLLM": "../tech-docs/vLLM.html",
                    "KV Cache": "../tech-docs/KV Cache.html",
                    "PagedAttention": "../tech-docs/PagedAttention.html",
                    "Speculative Decoding": "../tech-docs/Speculative Decoding.html",
                    "FlashAttention": "../tech-docs/FlashAttention.html"
          },
          "categoryDescriptions": {
                    "æ¨ç†åŸºç¡€": "ç†è§£æ¨ç†ä¸è®­ç»ƒçš„åŒºåˆ«ï¼ŒæŒæ¡å»¶è¿Ÿã€ååé‡ã€å†…å­˜å ç”¨ç­‰å…³é”®æŒ‡æ ‡ï¼Œäº†è§£æ¨ç†ä¼˜åŒ–æ–¹å‘ã€‚",
                    "æ¨ç†ç¼“å­˜ä¸è°ƒåº¦": "è§£å†³é•¿ä¸Šä¸‹æ–‡ä¸å¤šä¼šè¯å¹¶å‘çš„åŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬ KV Cacheã€é¡µå¼è°ƒåº¦ã€ç¼“å­˜é‡åŒ–ã€‚",
                    "æ¨ç†å¼•æ“": "é¢å‘ç”Ÿäº§éƒ¨ç½²çš„é«˜æ€§èƒ½æ¡†æ¶ï¼Œè´Ÿè´£æ‰¹å¤„ç†ã€å¹¶è¡Œã€API æœåŠ¡ã€‚",
                    "ç®—å­å†…æ ¸": "FlashAttentionã€FlashDecoding ç­‰å†³å®šç®—åŠ›åˆ©ç”¨ç‡çš„åº•å±‚å†…æ ¸ã€‚",
                    "ç”ŸæˆåŠ é€Ÿ": "Speculative / Medusa / Tree Decoding ç­‰å‡å°‘å¤§æ¨¡å‹å‰å‘æ¬¡æ•°çš„ç­–ç•¥ã€‚"
          },
          "force": {
                    "repulsion": 1800,
                    "gravity": 0.15,
                    "edgeLength": [
                              80,
                              240
                    ],
                    "friction": 0.2
          }
};
        
        // åˆå§‹åŒ–é¡µé¢
        initKnowledgeGraph(pageConfig);
        
        // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°è°ƒæ•´
        window.addEventListener('resize', function() {
            if (typeof chart !== 'undefined' && chart) {
                chart.resize();
            }
        });
    </script>
</body>
</html>